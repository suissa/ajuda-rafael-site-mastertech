
      <div id="mainLeaderboard" style="overflow:hidden;">
      <!-- Ezoic - Leaderboard - top_of_page -->
      <span id="ezoic-pub-ad-placeholder-103"></span><span style="display:none;float:none;margin-bottom:2px !important;margin-left:0px !important;margin-right:0px !important;margin-top:2px !important;min-height:110px;min-width:728px;" class="ezoic-ad leader-1 adtester-container adtester-container-103"><span id="div-gpt-ad-w3schools_com-leader-1-0" ezaw="728" ezah="90" style="position:relative;z-index:0;display:none;" class="ezoic-ad"><!--script-placeholder--></span></span><script>var ezzns1 = {0.05:504692,0.35:504698,1.00:504706,1.30:504709,1.60:504712,3.00:504722,3.50:504724,0.30:504697,0.90:504705,1.90:504715,2.20:504718,5.00:504727,0.80:504704,1.50:504711,0.70:504703,0.20:504695,0.40:504699,1.80:504714,2.60:504720,4.00:504725,4.50:504726,0.15:504694,0.25:504696,1.40:504710,1.70:504713,1.20:504708,2.40:504719,2.80:504721,0.45:504700,1.10:504707,0.60:504702,2.00:504716,0.10:504693,0.50:504701,};</script><script type="text/javascript" src="//static.criteo.net/js/ld/publishertag.js"></script>
<div class="ezflad-47" style="display:inline-block" adunitname="w3schools_com-leader-1" id="crt-1">
<script type="text/javascript">
var ezoflbf_2_1 = function() {IL11ILILIIlLLLILILLLLIILLLIIL11111LLILiiLIliLlILlLiiLLIiILL.ReloadFromP(1103);};
var ezoflbf_1 = function() { eval(ez_write_tag([[728,90],'w3schools_com-leader-1','ezslot_1']));
		};</script><script type="text/javascript">ezoflbf_1();
</script></div><script type="text/javascript">setTimeout(function(){if(typeof IL11ILILIIlLLLILILLLLIILLLIIL11111LLILiiLIliLlILlLiiLLIiILL == 'object') {
			var ezflaun = IL11ILILIIlLLLILILLLLIILLLIIL11111LLILiiLIliLlILlLiiLLIiILL.GetNameFromPositionId(1103);
				if(typeof ezflaun != 'undefined' && ezflaun.length > 0) {
				if(typeof ez_ad_units != undefined) {
					for(i=0;i<ez_ad_units.length;i++){

						if(ezflaun.indexOf(ez_ad_units[i][1]) >= 0) {
							return false;
						}
					}
				}
				IL11ILILIIlLLLILILLLLIILLLIIL11111LLILiiLIliLlILlLiiLLIiILL.StoreStatSource(ezflaun, 47, 8.00);
				IL11ILILIIlLLLILILLLLIILLLIIL11111LLILiiLIliLlILlLiiLLIiILL.RemoveSlotById(ezflaun);
			}

		}}, 4000);</script><!--ezoicfl-->
      <!-- End Ezoic - Leaderboard - top_of_page -->
      </div>
<h1>AJAX - Server <span class="color_h1">Response</span></h1>
<div class="w3-clear nextprev">
<a class="w3-left w3-btn" href="js_ajax_http_send.asp">&#x276E; Previous</a>
<a class="w3-right w3-btn" href="js_ajax_xmlfile.asp">Next &#x276F;</a>
</div>
<hr>

<h2>The onreadystatechange Property</h2>
<p>The <strong>readyState</strong> property holds the status of the XMLHttpRequest.</p>
<p>The <strong>onreadystatechange</strong> property defines a function to be executed when the readyState changes.</p>
<p>The <strong>status</strong> property and the <strong>statusText</strong> property holds the status of the XMLHttpRequest object.</p>
<table class="w3-table-all notranslate"> 
  <tr>
    <th style="width:20%">Property</th>
    <th>Description</th>
  </tr>  
  <tr>
    <td>onreadystatechange</td>
    <td>Defines a function to be called when the readyState property changes</td>
  </tr>
  <tr>
    <td>readyState</td>
    <td>Holds the status of the XMLHttpRequest. <br>
 0: request not initialized <br>
 1: server connection established<br>
 2: request received <br>
 3: processing request <br>
 4: request finished and response is ready</td>
  </tr>
  <tr>
    <td>status</td>
    <td>200: &quot;OK&quot;<br>403: &quot;Forbidden&quot;<br>
 404: &quot;Page not found&quot;<br>For a complete list go to the
    <a href="/tags/ref_httpmessages.asp">Http Messages Reference</a></td>
  </tr>
  <tr>
    <td>statusText</td>
    <td>Returns the status-text (e.g. &quot;OK&quot; or &quot;Not Found&quot;)</td>
  </tr>
</table>

<p>The onreadystatechange function is called every time the readyState changes. </p>
<p>When readyState is 4 and status is 200, the response is ready:</p>

<div class="w3-example">
<h3>Example</h3>
<div class="w3-code notranslate jsHigh">
function loadDoc() {<br>
&#xA0;&#xA0;&#xA0; var xhttp = new XMLHttpRequest();<br>
&#xA0;&#xA0;&#xA0; xhttp.onreadystatechange = function() {<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; if (this.readyState == 4 &amp;&amp; this.status == 200) {<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; document.getElementById(&quot;demo&quot;).innerHTML =<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; this.responseText;<br>
&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;&#xA0;}<br>
&#xA0;&#xA0;&#xA0; };<br>
&#xA0;&#xA0;&#xA0; xhttp.open(&quot;GET&quot;, &quot;ajax_info.txt&quot;, true);<br>
&#xA0;&#xA0;&#xA0; xhttp.send();
<br>}
</div>
<a target="_blank" class="w3-btn w3-margin-bottom" href="tryit.asp?filename=tryjs_ajax_first"></a>
<form action="http://codepen.io/pen/define" method="POST" target="_blank">
                        <input type="hidden" name="data" value="{ &apos;title&apos;: &apos;, &apos;js&apos;: &apos;function loadDoc() {
 var xhttp = new XMLHttpRequest();
 xhttp.onreadystatechange = function() {
 if (this.readyState == 4 &amp;&amp; this.status == 200) {
 document.getElementById(&quot;demo&quot;).innerHTML =
 this.responseText;
}
 };
 xhttp.open(&quot;GET&quot;, &quot;ajax_info.txt&quot;, true);
 xhttp.send();
}&apos; }">
                        <input type="submit" value="Tente vc mesmo">
                      </form></div>
<p><b>Note:</b> The onreadystatechange event is triggered five times (0-4), one time for each change in readyState.</p>
<hr>

<h2>Using a Callback Function</h2>

<p>A callback function is a function passed as a parameter to another function.</p>
<p>If you have more than one AJAX task in a website, you should create one function for 
executing the XMLHttpRequest object, and one callback function for each 
AJAX task.</p>
<p>The function call should contain the URL and what function to call when the 
response is ready.</p>

<div class="w3-example">
<h3>Example</h3>
<div class="w3-code notranslate jsHigh">
loadDoc(&quot;<em>url-1</em>&quot;, myFunction1);<br>
<br>
loadDoc(&quot;<em>url-2</em>&quot;, myFunction2);<br><br>
function loadDoc(url, cFunction) {<br>
&#xA0; var xhttp;<br>
&#xA0; xhttp = new XMLHttpRequest();<br>
&#xA0; xhttp.onreadystatechange = function() {<br>
&#xA0;&#xA0;&#xA0; if (this.readyState == 4 &amp;&amp; this.status == 200) {<br>&#xA0;&#xA0;&#xA0;&#xA0;&#xA0; cFunction(this);<br>&#xA0;&#xA0;&#xA0; }<br>
&#xA0; };<br>
&#xA0;&#xA0;xhttp.open(&quot;GET&quot;, url, true);<br>
&#xA0;&#xA0;xhttp.send();<br>
}<br><br>
function myFunction1(xhttp) {<br>
&#xA0; // action goes here<br>
}
<br>
function myFunction2(xhttp) {<br>
&#xA0; // action goes here<br>
}
</div>
<a target="_blank" class="w3-btn w3-margin-bottom" href="tryit.asp?filename=tryjs_ajax_callback"></a>
<form action="http://codepen.io/pen/define" method="POST" target="_blank">
                        <input type="hidden" name="data" value="{ &apos;title&apos;: &apos;, &apos;js&apos;: &apos;loadDoc(&quot;url-1&quot;, myFunction1);

loadDoc(&quot;url-2&quot;, myFunction2);
function loadDoc(url, cFunction) {
 var xhttp;
 xhttp = new XMLHttpRequest();
 xhttp.onreadystatechange = function() {
 if (this.readyState == 4 &amp;&amp; this.status == 200) { cFunction(this); }
 };
xhttp.open(&quot;GET&quot;, url, true);
xhttp.send();
}
function myFunction1(xhttp) {
 // action goes here
}

function myFunction2(xhttp) {
 // action goes here
}&apos; }">
                        <input type="submit" value="Tente vc mesmo">
                      </form></div>

<hr>
<h2>Server Response Properties</h2>
<table class="w3-table-all notranslate"> 
  <tr>
    <th style="width:230px">Property</th>
    <th>Description</th>
  </tr>  
  <tr>
    <td>responseText</td>
    <td>get the response data as a string</td>
  </tr>
  <tr>
    <td>responseXML</td>
    <td>get the response data as XML data</td>
  </tr>
</table>
<hr>

<h2>Server Response Methods</h2>
<table class="w3-table-all notranslate"> 
  <tr>
    <th style="width:230px">Method</th>
    <th>Description</th>
  </tr>  
  <tr>
    <td>getResponseHeader()</td>
    <td>Returns specific header information from the server resource</td>
  </tr>
  <tr>
    <td>getAllResponseHeaders()</td>
    <td>Returns all the header information from the server resource</td>
  </tr>
</table>

<hr>
<h2>The responseText Property</h2>
<p>The <strong>responseText</strong> property returns the server response as a 
JavaScript string, and you can use it accordingly:</p>

<div class="w3-example">
<h3>Example</h3>
<div class="w3-code notranslate jsHigh">
document.getElementById(&quot;demo&quot;).innerHTML = xhttp.responseText;</div>
<a target="_blank" class="w3-btn w3-margin-bottom" href="tryit.asp?filename=tryjs_ajax_first"></a>
<form action="http://codepen.io/pen/define" method="POST" target="_blank">
                        <input type="hidden" name="data" value="{ &apos;title&apos;: &apos;, &apos;js&apos;: &apos;document.getElementById(&quot;demo&quot;).innerHTML = xhttp.responseText;&apos; }">
                        <input type="submit" value="Tente vc mesmo">
                      </form></div>
<hr>
<h2>The responseXML Property</h2>
<p>The XML HttpRequest object has an in-built XML parser.</p>
<p>The <strong>responseXML</strong> property returns the server response as an XML DOM object.</p>
<p>Using this property you can parse the response as an XML DOM object:</p>

<div class="w3-example">
<h3>Example</h3>
<p>Request the file <a target="_blank" href="cd_catalog.xml"></a> and parse the response:</p>
<div class="w3-code notranslate jsHigh">
xmlDoc = xhttp.responseXML;<br>
txt = &quot;&quot;;<br>
x = xmlDoc.getElementsByTagName(&quot;ARTIST&quot;);<br>
for (i = 0; i &lt; x.length; i++) {<br>
&#xA0; txt += x[i].childNodes[0].nodeValue + &quot;&lt;br&gt;&quot;;<br>
&#xA0; }<br>
document.getElementById(&quot;demo&quot;).innerHTML = txt;<br>xhttp.open(&quot;GET&quot;, 
 &quot;cd_catalog.xml&quot;, true);<br>xhttp.send();</div>
<a target="_blank" class="w3-btn w3-margin-bottom" href="tryit.asp?filename=tryjs_ajax_responsexml"></a>
<form action="http://codepen.io/pen/define" method="POST" target="_blank">
                        <input type="hidden" name="data" value="{ &apos;title&apos;: &apos;, &apos;js&apos;: &apos;xmlDoc = xhttp.responseXML;
txt = &quot;&quot;;
x = xmlDoc.getElementsByTagName(&quot;ARTIST&quot;);
for (i = 0; i &lt; x.length; i++) {
 txt += x[i].childNodes[0].nodeValue + &quot;&lt;br&gt;&quot;;
 }
document.getElementById(&quot;demo&quot;).innerHTML = txt;xhttp.open(&quot;GET&quot;, 
 &quot;cd_catalog.xml&quot;, true);xhttp.send();&apos; }">
                        <input type="submit" value="Tente vc mesmo">
                      </form></div>
<div class="w3-panel w3-note">
<p>You will learn a lot more about XML DOM in the DOM chapters of this tutorial.</p>
</div>
<hr>

<h2>The getAllResponseHeaders() Method</h2>
<p>The <strong>getAllResponseHeaders()</strong> method returns all header information from the server response.</p>
<div class="w3-example">
<h3>Example</h3>
<div class="w3-code notranslate jsHigh">
var xhttp = new XMLHttpRequest();<br>xhttp.onreadystatechange = function() {<br>
&#xA0; if (this.readyState == 4 &amp;&amp; this.status == 200) {<br>
&#xA0;&#xA0;&#xA0; document.getElementById(&quot;demo&quot;).innerHTML =<br>&#xA0;&#xA0;&#xA0; this.getAllResponseHeaders();<br>
&#xA0; }<br>
};</div>
<a target="_blank" class="w3-btn w3-margin-bottom" href="tryit.asp?filename=tryjs_ajax_header"></a>
<form action="http://codepen.io/pen/define" method="POST" target="_blank">
                        <input type="hidden" name="data" value="{ &apos;title&apos;: &apos;, &apos;js&apos;: &apos;var xhttp = new XMLHttpRequest();xhttp.onreadystatechange = function() {
 if (this.readyState == 4 &amp;&amp; this.status == 200) {
 document.getElementById(&quot;demo&quot;).innerHTML = this.getAllResponseHeaders();
 }
};&apos; }">
                        <input type="submit" value="Tente vc mesmo">
                      </form></div>
<hr>

<h2>The getResponseHeader() Method</h2>
<p>The <strong>getResponseHeader()</strong> method returns specific header information from the server response.</p>
<div class="w3-example">
<h3>Example</h3>
<div class="w3-code notranslate jsHigh">
var xhttp = new XMLHttpRequest();<br>xhttp.onreadystatechange = function() {<br>
&#xA0; if (this.readyState == 4 &amp;&amp; this.status == 200) {<br>
&#xA0;&#xA0;&#xA0; document.getElementById(&quot;demo&quot;).innerHTML =<br>&#xA0;&#xA0;&#xA0; this.getResponseHeader(&quot;Last-Modified&quot;);<br>
&#xA0; }<br>
};<br>
xhttp.open(&quot;GET&quot;, &quot;ajax_info.txt&quot;, true);<br>
xhttp.send();
</div>
<a target="_blank" class="w3-btn w3-margin-bottom" href="tryit.asp?filename=tryjs_ajax_lastmodified"></a>
<form action="http://codepen.io/pen/define" method="POST" target="_blank">
                        <input type="hidden" name="data" value="{ &apos;title&apos;: &apos;, &apos;js&apos;: &apos;var xhttp = new XMLHttpRequest();xhttp.onreadystatechange = function() {
 if (this.readyState == 4 &amp;&amp; this.status == 200) {
 document.getElementById(&quot;demo&quot;).innerHTML = this.getResponseHeader(&quot;Last-Modified&quot;);
 }
};
xhttp.open(&quot;GET&quot;, &quot;ajax_info.txt&quot;, true);
xhttp.send();&apos; }">
                        <input type="submit" value="Tente vc mesmo">
                      </form></div>

<br>
<div class="w3-clear nextprev">
<a class="w3-left w3-btn" href="js_ajax_http_send.asp">&#x276E; Previous</a>
<a class="w3-right w3-btn" href="js_ajax_xmlfile.asp">Next &#x276F;</a>
</div>
